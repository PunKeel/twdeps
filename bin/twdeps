#!/usr/bin/env ruby

require 'bundler'
Bundler.require

def die(msg)
  STDERR.puts "#{File.basename($0)} - #{msg}"
  exit 1
end

# require output file argument if $stdout.tty?, otherwise it's being piped
#outfile = ARGV.shift || die('Missing argument for output file')

include TaskWarrior::Dependencies
puts Scanner.new(nil, TaskResolver.new(ARGF.read)).render('svg')
